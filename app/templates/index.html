<!--app/templates/index.html -->
<!--Page affichant un mot de bienvenue avec le nom de l'utilisateur
    Paramètres : 
        user : dictionnaire contenant la clé 'username'
        posts : liste de dictionnaires contenant les messages postés
-->
{% extends "base.html" %}
<!--On définit le contenu du block -->
{% block contenu %}
<!--Ici, on se concentre uniquement sur le contenu de la page -->
    <h1>Bonjour {{ current_user.username }}</h1>
    <!--Insérez ici le formulaire -->
    <form action="" method="POST">
        {{ form.hidden_tag() }
    }   <p>{{ form.post.label }}
         <br/>
         {{ form.post(placeholder="Tapez votre message ici")}}
         {% for error in form.post.errors %}
         <span class="erreur"> {{ error }} </span>
            {% endfor %}
            </p>
        <p>
            {{ form.submit() }}
        </p>
    </form>
    {% for post in posts%}
    <div>
        <p>
            {% include "_post.html" %}
        </p>
    </div>
    {% else %}
    <div>
        <p>
            Il n'y a pas encore de message posté.

        </p>
    </div>
    {% endfor %}
{% endblock %}